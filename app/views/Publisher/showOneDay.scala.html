@(slots: List[Slot], rooms: List[Room], day: String, secretPublishKey: Option[String])(implicit lang: Lang, req: RequestHeader, flash:Flash)
@import org.joda.time.DateTimeZone


    @views.html.Publisher.devoxxFR2020(Messages(s"sw.show.$day")) {
    <div class="large-12 columns">
        <h1 class="entry-title">@Messages(s"day-$day")</h1>

        <p class="breadcrumb hide-on-print"><a href="@routes.Publisher.homePublisher()">@Messages("sw.home")</a> &gt;
            <a href="@routes.Publisher.showByDay("wed", secretPublishKey)">@Messages("sw.agenda.wed")</a> /
            <a href="@routes.Publisher.showByDay("thu", secretPublishKey)">@Messages("sw.agenda.thu")</a> /
            <a href="@routes.Publisher.showByDay("fri", secretPublishKey)">@Messages("sw.agenda.fri")</a>
        </p>

        @if(ConferenceDescriptor.isShowRoom) {
            <p class="hide-on-print">@Messages("publisher.room.disclaimer")</p>
        }
    </div>

    <div class="columns large-12 woocommerce">
        <table class="agendaTable">
             @if(ConferenceDescriptor.isShowRoom) {
                 <tr>
                     <th><i class="far fa-calendar-alt-check"></i> @Messages("publisher.room")</th>
                     @rooms.sorted.map { roomName: Room =>
                         <td>@roomName.name</td>
                     }
                 </tr>
             }
            @slots.groupBy(s=> s.from.getMillis).toList.sortWith(_._1 < _._1).map { case (_, subSlots) =>
                <tr class="skip-print-defaults">
                    <th class="timeSlot">
                        @subSlots.head.from.toDateTime(DateTimeZone.forID("Europe/Brussels")).toString("HH:mm") - @subSlots.head.to.toDateTime(DateTimeZone.forID("Europe/Brussels")).toString("HH:mm")
                        @if(subSlots.map(_.to).toSet.size>1){
                            @subSlots.map(_.to).toSet.map { s:org.joda.time.DateTime =>
                              <small>@s.toDateTime(DateTimeZone.forID("Europe/Brussels")).toString("HH:mm")</small>
                            }
                        }
                    </th>
                    @rooms.sorted.map { room =>
                            @if(subSlots.map(_.to).toSet.size>1){
                                @tags.publisher.tagRenderRow(subSlots, room, rooms.size, true, secretPublishKey)
                            }else {
                                @tags.publisher.tagRenderRow(subSlots, room, rooms.size, false, secretPublishKey)
                            }
                    }
                </tr>
            }
            @if(ConferenceDescriptor.isShowRoom) {
                  <tr>
                     <th><i class="far fa-calendar-alt-check"></i> @Messages("publisher.room")</th>
                     @rooms.sorted.map { roomName: Room =>
                         <td>@roomName.name</td>
                     }
                 </tr>
            }
        </table>
    </div>
}
