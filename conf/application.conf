# CFP for Devoxx
# Configuration file
# -------------------------------------------------------------------------------------
#
# All environment variables are set from the CleverCloud console for Production
# For local development, create a simple env.sh that will configure all variables.
# See run.sh.sample
#
# -------------------------------------------------------------------------------------
#
# Do not edit this file - use run.sh
#
application.secret=${APP_SECRET}
cfp.hostname=${CFP_HOSTNAME}
application.langs=${CFP_LANG}
logger.root=ERROR
logger.play=INFO
logger.application=DEBUG

smtp.host=${SMTP_HOST}
smtp.user=${SMTP_USER}
smtp.password=${SMTP_PASSWORD}
smtp.ssl=${SMTP_SSL}
smtp.port=${SMTP_PORT}
smtp.mock=${SMTP_MOCK}

mail.from=${MAIL_FROM}
mail.committee.email=${MAIL_COMMITTEE}
mail.bugReportRecipient=${MAIL_BUG_REPORT}
#mail.bcc=${MAIL_BCC}

# Github staging
github.client_id=${GITHUB_ID}
github.client_secret=${GITHUB_SECRET}

google.client_id=${GOOGLE_ID}
google.client_secret=${GOOGLE_SECRET}

linkedin.client_id=${LINKEDIN_CLIEND_ID}
linkedin.client_secret=${LINKEDIN_SECRET}

# Redis hosted on my server
# DO NOT USE the PROD server in Dev mode
redis.host=${REDIS_HOST}
redis.port=${REDIS_PORT}
redis.timeout=30000
redis.database=1
redis.password=${REDIS_PASSWORD}

actor.cronUpdater.active=${CRON_UPDATER}
actor.draftReminder.days=${CRON_DAYS}

# CleverCloud prod
elasticsearch.host=${ES_ADDON_URI}
elasticsearch.username=${ES_ADDON_USER}
elasticsearch.password=${ES_ADDON_PASSWORD}

stats-context {
  fork-join-executor {
    parallelism-factor = 4.0
    parallelism-max = 32
  }
}

elasticsearch-context {
  fork-join-executor {
    parallelism-factor = 4.0
    parallelism-max = 32
  }
}

play {
  akka {
    event-handlers = ["akka.event.Logging$DefaultLogger", "akka.event.slf4j.Slf4jEventHandler"]
    loglevel = DEBUG
    log-config-on-start = off

    actor {
      default-dispatcher = {
   fork-join-executor {
        # Min number of threads to cap factor-based parallelism number to
        parallelism-min = 8

        # The parallelism factor is used to determine thread pool size using the
        # following formula: ceil(available processors * factor). Resulting size
        # is then bounded by the parallelism-min and parallelism-max values.
        parallelism-factor = 3.0

        # Max number of threads to cap factor-based parallelism number to
        parallelism-max = 64
      }
      }
    }
  }
}

# Set to false will close the CFP for speakers
cfp.isOpen=${CFP_IS_OPEN}

akka.jvm-exit-on-fatal-error=false

# For AngularJS schedule application
# If the post is too small you won't be able to save your schedule updates
parsers.MultipartFormData.maxLength=10240K
parsers.json.maxLength=1M
parsers.text.maxLength=1M

ws.useragent="Play2 Scala WS for Devoxx"

akka.log-dead-letters-during-shutdown=false

bitbucket.issues.url=${BITBUCKET_URL}
bitbucket.username=${BITBUCKET_USERNAME}
bitbucket.password=${BITBUCKET_PASSWORD}

# If you want to use OpsGenie for monitoring
opsgenie.apiKey=${OPSGENIE_API}
opsgenie.name=${OPSGENIE_NAME}

# Set to true if you want to show Golden Ticket votes in the show vote view
goldenTicket.active=${ACTIVATE_GOLDEN_TICKET}

# Set to true if you have HTTPS enabled
cfp.activateHTTPS=${ACTIVATE_HTTPS}

# For SSL suppoer
trustxforwarded=true

include "cfp.conf"
